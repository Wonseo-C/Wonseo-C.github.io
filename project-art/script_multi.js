const pianoKeys=document.querySelectorAll(".piano-keys .key");volumeSlider=document.querySelector(".volume-slider input"),keysCheckbox=document.querySelector(".keys-checkbox input");let allKeys=[],audioElements={};const playTune=e=>{audioElements[e]||(audioElements[e]=new Audio(`./tunes/${e}.wav`));const s=audioElements[e];s.currentTime=0,s.volume=volumeSlider.value,s.play();const t=document.querySelector(`[data-key=${e}]`);t.classList.add("active"),setTimeout(()=>{t.classList.remove("active")},70)};pianoKeys.forEach(e=>{allKeys.push(e.dataset.key),e.addEventListener("click",()=>playTune(e.dataset.key))});const handleVolume=e=>{audio.volume=e.target.value,Object.values(audioElements).forEach(e=>{e.volume=volume})},showHideKeys=()=>{pianoKeys.forEach(e=>e.classList.toggle("hide"))},pressedKey=e=>{allKeys.includes(e.key)&&playTune(e.key)};keysCheckbox.addEventListener("click",showHideKeys),volumeSlider.addEventListener("input",handleVolume),document.addEventListener("keydown",pressedKey);