const pianoKeys=document.querySelectorAll(".piano-keys .key");volumeSlider=document.querySelector(".volume-slider input"),keysCheckbox=document.querySelector(".keys-checkbox input");let allKeys=[],audioElements={};const playMelody=e=>{let t=0;const o=()=>{if(t<e.length){new Audio(`./tunes2/${e[t]}.mp3`).play(),++t<e.length&&(t%3==0?setTimeout(o,1500):setTimeout(o,950))}};o()},melody=["d","g","h","h","k","l",";","n",";","l","k","h",";","l","h",";","l","h","g","d"],playTune=e=>{audioElements[e]||(audioElements[e]=new Audio(`./tunes2/${e}.mp3`));const t=audioElements[e];t.currentTime=0,t.volume=volumeSlider.value,t.play();const o=document.querySelector(`[data-key=${e}]`);o.classList.add("active"),setTimeout(()=>{o.classList.remove("active")},70)};pianoKeys.forEach(e=>{allKeys.push(e.dataset.key),e.addEventListener("click",()=>playTune(e.dataset.key))});const handleVolume=e=>{audio.volume=e.target.value,Object.values(audioElements).forEach(e=>{e.volume=volume})},showHideKeys=()=>{pianoKeys.forEach(e=>e.classList.toggle("hide"))},pressedKey=e=>{const t={KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",KeyW:"w",KeyE:"e",KeyT:"t",KeyY:"y",KeyU:"u",KeyO:"o",KeyP:"p",KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:","};t[e.code]&&playTune(t[e.code])};document.addEventListener("keydown",pressedKey),keysCheckbox.addEventListener("click",showHideKeys),volumeSlider.addEventListener("input",handleVolume),document.addEventListener("keydown",pressedKey);