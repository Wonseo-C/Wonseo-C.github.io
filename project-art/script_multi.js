const pianoKeys=document.querySelectorAll(".piano-keys .key");volumeSlider=document.querySelector(".volume-slider input"),keysCheckbox=document.querySelector(".keys-checkbox input");let allKeys=[],audioElements={};const playTune=e=>{audioElements[e]||(audioElements[e]=new Audio(`./tunes/${e}.wav`));const o=audioElements[e];o.currentTime=0,o.volume=volumeSlider.value,o.play();const t=document.querySelector(`[data-key=${e}]`);t.classList.add("active"),setTimeout(()=>{t.classList.remove("active")},70)};pianoKeys.forEach(e=>{allKeys.push(e.dataset.key),e.addEventListener("click",()=>playTune(e.dataset.key))});const handleVolume=e=>{audio.volume=e.target.value,Object.values(audioElements).forEach(e=>{e.volume=volume})},showHideKeys=()=>{pianoKeys.forEach(e=>e.classList.toggle("hide"))},pressedKey=e=>{const o={KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",KeyW:"w",KeyE:"e",KeyT:"t",KeyY:"y",KeyU:"u",KeyO:"o",KeyP:"p"};o[e.code]&&playTune(o[e.code])};document.addEventListener("keydown",pressedKey),keysCheckbox.addEventListener("click",showHideKeys),volumeSlider.addEventListener("input",handleVolume),document.addEventListener("keydown",pressedKey);